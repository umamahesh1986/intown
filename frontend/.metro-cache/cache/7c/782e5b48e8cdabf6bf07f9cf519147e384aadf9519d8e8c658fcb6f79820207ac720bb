{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./ExpoLocation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":42,"index":88}}],"key":"n9eQB3huKj/lRnIsgaXRKPJKjaY=","exportNames":["*"],"imports":1}},{"name":"./Location.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":89},"end":{"line":3,"column":52,"index":141}}],"key":"QoIrjHWCWA2K0AZhEI/d0eITBhA=","exportNames":["*"],"imports":1}},{"name":"./LocationSubscribers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":142},"end":{"line":4,"column":59,"index":201}}],"key":"ECD2ecHoQ4d6PxMbJzhCjCmKfZg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.installWebGeolocationPolyfill = installWebGeolocationPolyfill;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _ExpoLocation = require(_dependencyMap[2], \"./ExpoLocation\");\n  var ExpoLocation = _interopDefault(_ExpoLocation);\n  var _LocationTypes = require(_dependencyMap[3], \"./Location.types\");\n  var _LocationSubscribers = require(_dependencyMap[4], \"./LocationSubscribers\");\n  // @needsAudit\n  /**\n   * Polyfills `navigator.geolocation` for interop with the core React Native and Web API approach to geolocation.\n   */\n  function installWebGeolocationPolyfill() {\n    if (_expoModulesCore.Platform.OS !== 'web') {\n      // Make sure `window.navigator` is defined in the global scope.\n      if (!('window' in global)) {\n        global.window = global;\n      }\n      if (!('navigator' in global.window)) {\n        global.window.navigator = {};\n      }\n      // @ts-ignore\n      window.navigator.geolocation = {\n        getCurrentPosition,\n        watchPosition,\n        clearWatch\n      };\n    }\n  }\n  function convertGeolocationOptions(options) {\n    return {\n      accuracy: options.enableHighAccuracy ? _LocationTypes.LocationAccuracy.High : _LocationTypes.LocationAccuracy.Balanced\n    };\n  }\n  function getCurrentPosition(success) {\n    var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : () => {};\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _getCurrentPositionAsyncWrapper(success, error, options);\n  }\n  // This function exists to let us continue to return undefined from getCurrentPosition, while still\n  // using async/await for the internal implementation of it\n  function _getCurrentPositionAsyncWrapper(_x, _x2, _x3) {\n    return _getCurrentPositionAsyncWrapper2.apply(this, arguments);\n  } // Polyfill: navigator.geolocation.watchPosition\n  function _getCurrentPositionAsyncWrapper2() {\n    _getCurrentPositionAsyncWrapper2 = (0, _asyncToGenerator.default)(function* (success, error, options) {\n      try {\n        yield ExpoLocation.default.requestPermissionsAsync();\n        var result = yield ExpoLocation.default.getCurrentPositionAsync(convertGeolocationOptions(options));\n        success(result);\n      } catch (e) {\n        error(e);\n      }\n    });\n    return _getCurrentPositionAsyncWrapper2.apply(this, arguments);\n  }\n  function watchPosition(success, error, options) {\n    var watchId = _LocationSubscribers.LocationSubscriber.registerCallback(success);\n    ExpoLocation.default.watchPositionImplAsync(watchId, options).catch(err => {\n      _LocationSubscribers.LocationSubscriber.unregisterCallback(watchId);\n      error({\n        watchId,\n        message: err.message,\n        code: err.code\n      });\n    });\n    return watchId;\n  }\n  // Polyfill: navigator.geolocation.clearWatch\n  function clearWatch(watchId) {\n    _LocationSubscribers.LocationSubscriber.unregisterCallback(watchId);\n  }\n});","lineCount":84,"map":[[12,2,9,0,"exports"],[12,9,9,0],[12,10,9,0,"installWebGeolocationPolyfill"],[12,39,9,0],[12,42,9,0,"installWebGeolocationPolyfill"],[12,71,9,0],[13,2,25,1],[13,6,25,1,"_babelRuntimeHelpersAsyncToGenerator"],[13,42,25,1],[13,45,25,1,"require"],[13,52,25,1],[13,53,25,1,"_dependencyMap"],[13,67,25,1],[14,2,25,1],[14,6,25,1,"_asyncToGenerator"],[14,23,25,1],[14,26,25,1,"_interopDefault"],[14,41,25,1],[14,42,25,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,78,25,1],[15,2,1,0],[15,6,1,0,"_expoModulesCore"],[15,22,1,0],[15,25,1,0,"require"],[15,32,1,0],[15,33,1,0,"_dependencyMap"],[15,47,1,0],[16,2,2,0],[16,6,2,0,"_ExpoLocation"],[16,19,2,0],[16,22,2,0,"require"],[16,29,2,0],[16,30,2,0,"_dependencyMap"],[16,44,2,0],[17,2,2,0],[17,6,2,0,"ExpoLocation"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_ExpoLocation"],[17,50,2,0],[18,2,3,0],[18,6,3,0,"_LocationTypes"],[18,20,3,0],[18,23,3,0,"require"],[18,30,3,0],[18,31,3,0,"_dependencyMap"],[18,45,3,0],[19,2,4,0],[19,6,4,0,"_LocationSubscribers"],[19,26,4,0],[19,29,4,0,"require"],[19,36,4,0],[19,37,4,0,"_dependencyMap"],[19,51,4,0],[20,2,5,0],[21,2,6,0],[22,0,7,0],[23,0,8,0],[24,2,9,7],[24,11,9,16,"installWebGeolocationPolyfill"],[24,40,9,45,"installWebGeolocationPolyfill"],[24,41,9,45],[24,43,9,48],[25,4,10,4],[25,8,10,8,"Platform"],[25,24,10,16],[25,25,10,16,"Platform"],[25,33,10,16],[25,34,10,17,"OS"],[25,36,10,19],[25,41,10,24],[25,46,10,29],[25,48,10,31],[26,6,11,8],[27,6,12,8],[27,10,12,12],[27,12,12,14],[27,20,12,22],[27,24,12,26,"global"],[27,30,12,32],[27,31,12,33],[27,33,12,35],[28,8,13,12,"global"],[28,14,13,18],[28,15,13,19,"window"],[28,21,13,25],[28,24,13,28,"global"],[28,30,13,34],[29,6,14,8],[30,6,15,8],[30,10,15,12],[30,12,15,14],[30,23,15,25],[30,27,15,29,"global"],[30,33,15,35],[30,34,15,36,"window"],[30,40,15,42],[30,41,15,43],[30,43,15,45],[31,8,16,12,"global"],[31,14,16,18],[31,15,16,19,"window"],[31,21,16,25],[31,22,16,26,"navigator"],[31,31,16,35],[31,34,16,38],[31,35,16,39],[31,36,16,40],[32,6,17,8],[33,6,18,8],[34,6,19,8,"window"],[34,12,19,14],[34,13,19,15,"navigator"],[34,22,19,24],[34,23,19,25,"geolocation"],[34,34,19,36],[34,37,19,39],[35,8,20,12,"getCurrentPosition"],[35,26,20,30],[36,8,21,12,"watchPosition"],[36,21,21,25],[37,8,22,12,"clearWatch"],[38,6,23,8],[38,7,23,9],[39,4,24,4],[40,2,25,0],[41,2,26,0],[41,11,26,9,"convertGeolocationOptions"],[41,36,26,34,"convertGeolocationOptions"],[41,37,26,35,"options"],[41,44,26,42],[41,46,26,44],[42,4,27,4],[42,11,27,11],[43,6,28,8,"accuracy"],[43,14,28,16],[43,16,28,18,"options"],[43,23,28,25],[43,24,28,26,"enableHighAccuracy"],[43,42,28,44],[43,45,28,47,"LocationAccuracy"],[43,59,28,63],[43,60,28,63,"LocationAccuracy"],[43,76,28,63],[43,77,28,64,"High"],[43,81,28,68],[43,84,28,71,"LocationAccuracy"],[43,98,28,87],[43,99,28,87,"LocationAccuracy"],[43,115,28,87],[43,116,28,88,"Balanced"],[44,4,29,4],[44,5,29,5],[45,2,30,0],[46,2,31,0],[46,11,31,9,"getCurrentPosition"],[46,29,31,27,"getCurrentPosition"],[46,30,31,28,"success"],[46,37,31,35],[46,39,31,70],[47,4,31,70],[47,8,31,37,"error"],[47,13,31,42],[47,16,31,42,"arguments"],[47,25,31,42],[47,26,31,42,"length"],[47,32,31,42],[47,40,31,42,"arguments"],[47,49,31,42],[47,57,31,42,"undefined"],[47,66,31,42],[47,69,31,42,"arguments"],[47,78,31,42],[47,84,31,45],[47,90,31,51],[47,91,31,53],[47,92,31,54],[48,4,31,54],[48,8,31,56,"options"],[48,15,31,63],[48,18,31,63,"arguments"],[48,27,31,63],[48,28,31,63,"length"],[48,34,31,63],[48,42,31,63,"arguments"],[48,51,31,63],[48,59,31,63,"undefined"],[48,68,31,63],[48,71,31,63,"arguments"],[48,80,31,63],[48,86,31,66],[48,87,31,67],[48,88,31,68],[49,4,32,4,"_getCurrentPositionAsyncWrapper"],[49,35,32,35],[49,36,32,36,"success"],[49,43,32,43],[49,45,32,45,"error"],[49,50,32,50],[49,52,32,52,"options"],[49,59,32,59],[49,60,32,60],[50,2,33,0],[51,2,34,0],[52,2,35,0],[53,2,35,0],[53,11,36,15,"_getCurrentPositionAsyncWrapper"],[53,42,36,46,"_getCurrentPositionAsyncWrapper"],[53,43,36,46,"_x"],[53,45,36,46],[53,47,36,46,"_x2"],[53,50,36,46],[53,52,36,46,"_x3"],[53,55,36,46],[54,4,36,46],[54,11,36,46,"_getCurrentPositionAsyncWrapper2"],[54,43,36,46],[54,44,36,46,"apply"],[54,49,36,46],[54,56,36,46,"arguments"],[54,65,36,46],[55,2,36,46],[55,4,46,0],[56,2,46,0],[56,11,46,0,"_getCurrentPositionAsyncWrapper2"],[56,44,46,0],[57,4,46,0,"_getCurrentPositionAsyncWrapper2"],[57,36,46,0],[57,43,46,0,"_asyncToGenerator"],[57,60,46,0],[57,61,46,0,"default"],[57,68,46,0],[57,70,36,0],[57,81,36,47,"success"],[57,88,36,54],[57,90,36,56,"error"],[57,95,36,61],[57,97,36,63,"options"],[57,104,36,70],[57,106,36,72],[58,6,37,4],[58,10,37,8],[59,8,38,8],[59,14,38,14,"ExpoLocation"],[59,26,38,26],[59,27,38,26,"default"],[59,34,38,26],[59,35,38,27,"requestPermissionsAsync"],[59,58,38,50],[59,59,38,51],[59,60,38,52],[60,8,39,8],[60,12,39,14,"result"],[60,18,39,20],[60,27,39,29,"ExpoLocation"],[60,39,39,41],[60,40,39,41,"default"],[60,47,39,41],[60,48,39,42,"getCurrentPositionAsync"],[60,71,39,65],[60,72,39,66,"convertGeolocationOptions"],[60,97,39,91],[60,98,39,92,"options"],[60,105,39,99],[60,106,39,100],[60,107,39,101],[61,8,40,8,"success"],[61,15,40,15],[61,16,40,16,"result"],[61,22,40,22],[61,23,40,23],[62,6,41,4],[62,7,41,5],[62,8,42,4],[62,15,42,11,"e"],[62,16,42,12],[62,18,42,14],[63,8,43,8,"error"],[63,13,43,13],[63,14,43,14,"e"],[63,15,43,15],[63,16,43,16],[64,6,44,4],[65,4,45,0],[65,5,45,1],[66,4,45,1],[66,11,45,1,"_getCurrentPositionAsyncWrapper2"],[66,43,45,1],[66,44,45,1,"apply"],[66,49,45,1],[66,56,45,1,"arguments"],[66,65,45,1],[67,2,45,1],[68,2,47,0],[68,11,47,9,"watchPosition"],[68,24,47,22,"watchPosition"],[68,25,47,23,"success"],[68,32,47,30],[68,34,47,32,"error"],[68,39,47,37],[68,41,47,39,"options"],[68,48,47,46],[68,50,47,48],[69,4,48,4],[69,8,48,10,"watchId"],[69,15,48,17],[69,18,48,20,"LocationSubscriber"],[69,38,48,38],[69,39,48,38,"LocationSubscriber"],[69,57,48,38],[69,58,48,39,"registerCallback"],[69,74,48,55],[69,75,48,56,"success"],[69,82,48,63],[69,83,48,64],[70,4,49,4,"ExpoLocation"],[70,16,49,16],[70,17,49,16,"default"],[70,24,49,16],[70,25,49,17,"watchPositionImplAsync"],[70,47,49,39],[70,48,49,40,"watchId"],[70,55,49,47],[70,57,49,49,"options"],[70,64,49,56],[70,65,49,57],[70,66,49,58,"catch"],[70,71,49,63],[70,72,49,65,"err"],[70,75,49,68],[70,79,49,73],[71,6,50,8,"LocationSubscriber"],[71,26,50,26],[71,27,50,26,"LocationSubscriber"],[71,45,50,26],[71,46,50,27,"unregisterCallback"],[71,64,50,45],[71,65,50,46,"watchId"],[71,72,50,53],[71,73,50,54],[72,6,51,8,"error"],[72,11,51,13],[72,12,51,14],[73,8,51,16,"watchId"],[73,15,51,23],[74,8,51,25,"message"],[74,15,51,32],[74,17,51,34,"err"],[74,20,51,37],[74,21,51,38,"message"],[74,28,51,45],[75,8,51,47,"code"],[75,12,51,51],[75,14,51,53,"err"],[75,17,51,56],[75,18,51,57,"code"],[76,6,51,62],[76,7,51,63],[76,8,51,64],[77,4,52,4],[77,5,52,5],[77,6,52,6],[78,4,53,4],[78,11,53,11,"watchId"],[78,18,53,18],[79,2,54,0],[80,2,55,0],[81,2,56,0],[81,11,56,9,"clearWatch"],[81,21,56,19,"clearWatch"],[81,22,56,20,"watchId"],[81,29,56,27],[81,31,56,29],[82,4,57,4,"LocationSubscriber"],[82,24,57,22],[82,25,57,22,"LocationSubscriber"],[82,43,57,22],[82,44,57,23,"unregisterCallback"],[82,62,57,41],[82,63,57,42,"watchId"],[82,70,57,49],[82,71,57,50],[83,2,58,0],[84,0,58,1],[84,3]],"functionMap":{"names":["<global>","installWebGeolocationPolyfill","convertGeolocationOptions","getCurrentPosition","<anonymous>","_getCurrentPositionAsyncWrapper","watchPosition","ExpoLocation.watchPositionImplAsync._catch$argument_0","clearWatch"],"mappings":"AAA;OCQ;CDgB;AEC;CFI;AGC,6CC,SD;CHE;AKG;CLS;AME;gECE;KDG;CNE;AQE;CRE"},"hasCjsExports":false},"type":"js/module"}]}