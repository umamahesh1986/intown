{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./isRecordEqual.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":51,"index":98}}],"key":"E5lU3h554k94C0V5puhR219BWnU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"state\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"CHILD_STATE\", {\n    enumerable: true,\n    get: function () {\n      return CHILD_STATE;\n    }\n  });\n  exports.useRouteCache = useRouteCache;\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _react = require(_dependencyMap[1], \"react\");\n  var React = _interopNamespace(_react);\n  var _isRecordEqualJs = require(_dependencyMap[2], \"./isRecordEqual.js\");\n  /**\n   * Utilities such as `getFocusedRouteNameFromRoute` need to access state.\n   * So we need a way to suppress the warning for those use cases.\n   * This is fine since they are internal utilities and this is not public API.\n   */\n  const CHILD_STATE = Symbol('CHILD_STATE');\n\n  /**\n   * Hook to cache route props for each screen in the navigator.\n   * This lets add warnings and modifications to the route object but keep references between renders.\n   */\n  function useRouteCache(routes) {\n    // Cache object which holds route objects for each screen\n    const cache = React.useMemo(() => ({\n      current: new Map()\n    }), []);\n    cache.current = routes.reduce((acc, route) => {\n      const previous = cache.current.get(route.key);\n      const {\n          state\n        } = route,\n        routeWithoutState = (0, _objectWithoutPropertiesLoose.default)(route, _excluded);\n      let proxy;\n      if (previous && (0, _isRecordEqualJs.isRecordEqual)(previous, routeWithoutState)) {\n        // If a cached route object already exists, reuse it\n        proxy = previous;\n      } else {\n        proxy = routeWithoutState;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        // FIXME: since the state is updated with mutation, the route object cannot be frozen\n        // As a workaround, loop through the object and make the properties readonly\n        for (const key in proxy) {\n          // @ts-expect-error: this is fine since we are looping through the object\n          const value = proxy[key];\n          Object.defineProperty(proxy, key, {\n            enumerable: true,\n            configurable: true,\n            writable: false,\n            value\n          });\n        }\n      }\n      Object.defineProperty(proxy, CHILD_STATE, {\n        enumerable: false,\n        configurable: true,\n        value: state\n      });\n      acc.set(route.key, proxy);\n      return acc;\n    }, new Map());\n    return Array.from(cache.current.values());\n  }\n});","lineCount":93,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,8,1,13,"_excluded"],[4,17,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13],[8,11,1,13,"_interopDefault"],[8,27,1,13,"e"],[8,28,1,13],[9,4,1,13],[9,11,1,13,"e"],[9,12,1,13],[9,16,1,13,"e"],[9,17,1,13],[9,18,1,13,"__esModule"],[9,28,1,13],[9,31,1,13,"e"],[9,32,1,13],[10,6,1,13,"default"],[10,13,1,13],[10,15,1,13,"e"],[11,4,1,13],[12,2,1,13],[13,2,1,13],[13,11,1,13,"_interopNamespace"],[13,29,1,13,"e"],[13,30,1,13],[14,4,1,13],[14,8,1,13,"e"],[14,9,1,13],[14,13,1,13,"e"],[14,14,1,13],[14,15,1,13,"__esModule"],[14,25,1,13],[14,34,1,13,"e"],[14,35,1,13],[15,4,1,13],[15,8,1,13,"n"],[15,9,1,13],[16,4,1,13],[16,8,1,13,"e"],[16,9,1,13],[16,11,1,13,"Object"],[16,17,1,13],[16,18,1,13,"keys"],[16,22,1,13],[16,23,1,13,"e"],[16,24,1,13],[16,26,1,13,"forEach"],[16,33,1,13],[16,44,1,13,"k"],[16,45,1,13],[17,6,1,13],[17,10,1,13,"d"],[17,11,1,13],[17,14,1,13,"Object"],[17,20,1,13],[17,21,1,13,"getOwnPropertyDescriptor"],[17,45,1,13],[17,46,1,13,"e"],[17,47,1,13],[17,49,1,13,"k"],[17,50,1,13],[18,6,1,13,"Object"],[18,12,1,13],[18,13,1,13,"defineProperty"],[18,27,1,13],[18,28,1,13,"n"],[18,29,1,13],[18,31,1,13,"k"],[18,32,1,13],[18,34,1,13,"d"],[18,35,1,13],[18,36,1,13,"get"],[18,39,1,13],[18,42,1,13,"d"],[18,43,1,13],[19,8,1,13,"enumerable"],[19,18,1,13],[20,8,1,13,"get"],[20,11,1,13],[20,22,1,13,"get"],[20,23,1,13],[21,10,1,13],[21,17,1,13,"e"],[21,18,1,13],[21,19,1,13,"k"],[21,20,1,13],[22,8,1,13],[23,6,1,13],[24,4,1,13],[25,4,1,13,"n"],[25,5,1,13],[25,6,1,13,"default"],[25,13,1,13],[25,16,1,13,"e"],[25,17,1,13],[26,4,1,13],[26,11,1,13,"n"],[26,12,1,13],[27,2,1,13],[28,2,10,0,"Object"],[28,8,10,0],[28,9,10,0,"defineProperty"],[28,23,10,0],[28,24,10,0,"exports"],[28,31,10,0],[29,4,10,0,"enumerable"],[29,14,10,0],[30,4,10,0,"get"],[30,7,10,0],[30,18,10,0,"get"],[30,19,10,0],[31,6,10,0],[31,13,10,0,"CHILD_STATE"],[31,24,10,0],[32,4,10,0],[33,2,10,0],[34,2,16,0,"exports"],[34,9,16,0],[34,10,16,0,"useRouteCache"],[34,23,16,0],[34,26,16,0,"useRouteCache"],[34,39,16,0],[35,2,57,1],[35,6,57,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[35,54,57,1],[35,57,57,1,"require"],[35,64,57,1],[35,65,57,1,"_dependencyMap"],[35,79,57,1],[36,2,57,1],[36,6,57,1,"_objectWithoutPropertiesLoose"],[36,35,57,1],[36,38,57,1,"_interopDefault"],[36,53,57,1],[36,54,57,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[36,102,57,1],[37,2,3,0],[37,6,3,0,"_react"],[37,12,3,0],[37,15,3,0,"require"],[37,22,3,0],[37,23,3,0,"_dependencyMap"],[37,37,3,0],[38,2,3,0],[38,6,3,0,"React"],[38,11,3,0],[38,14,3,0,"_interopNamespace"],[38,31,3,0],[38,32,3,0,"_react"],[38,38,3,0],[39,2,4,0],[39,6,4,0,"_isRecordEqualJs"],[39,22,4,0],[39,25,4,0,"require"],[39,32,4,0],[39,33,4,0,"_dependencyMap"],[39,47,4,0],[40,2,5,0],[41,0,6,0],[42,0,7,0],[43,0,8,0],[44,0,9,0],[45,2,10,7],[45,8,10,13,"CHILD_STATE"],[45,19,10,24],[45,22,10,27,"Symbol"],[45,28,10,33],[45,29,10,34],[45,42,10,47],[45,43,10,48],[47,2,12,0],[48,0,13,0],[49,0,14,0],[50,0,15,0],[51,2,16,7],[51,11,16,16,"useRouteCache"],[51,24,16,29,"useRouteCache"],[51,25,16,30,"routes"],[51,31,16,36],[51,33,16,38],[52,4,17,2],[53,4,18,2],[53,10,18,8,"cache"],[53,15,18,13],[53,18,18,16,"React"],[53,23,18,21],[53,24,18,22,"useMemo"],[53,31,18,29],[53,32,18,30],[53,39,18,37],[54,6,19,4,"current"],[54,13,19,11],[54,15,19,13],[54,19,19,17,"Map"],[54,22,19,20],[54,23,19,21],[55,4,20,2],[55,5,20,3],[55,6,20,4],[55,8,20,6],[55,10,20,8],[55,11,20,9],[56,4,21,2,"cache"],[56,9,21,7],[56,10,21,8,"current"],[56,17,21,15],[56,20,21,18,"routes"],[56,26,21,24],[56,27,21,25,"reduce"],[56,33,21,31],[56,34,21,32],[56,35,21,33,"acc"],[56,38,21,36],[56,40,21,38,"route"],[56,45,21,43],[56,50,21,48],[57,6,22,4],[57,12,22,10,"previous"],[57,20,22,18],[57,23,22,21,"cache"],[57,28,22,26],[57,29,22,27,"current"],[57,36,22,34],[57,37,22,35,"get"],[57,40,22,38],[57,41,22,39,"route"],[57,46,22,44],[57,47,22,45,"key"],[57,50,22,48],[57,51,22,49],[58,6,23,4],[58,12,23,10],[59,10,24,6,"state"],[60,8,26,4],[60,9,26,5],[60,12,26,8,"route"],[60,17,26,13],[61,8,25,9,"routeWithoutState"],[61,25,25,26],[61,32,25,26,"_objectWithoutPropertiesLoose"],[61,61,25,26],[61,62,25,26,"default"],[61,69,25,26],[61,71,26,8,"route"],[61,76,26,13],[61,78,26,13,"_excluded"],[61,87,26,13],[62,6,27,4],[62,10,27,8,"proxy"],[62,15,27,13],[63,6,28,4],[63,10,28,8,"previous"],[63,18,28,16],[63,22,28,20],[63,26,28,20,"isRecordEqual"],[63,42,28,33],[63,43,28,33,"isRecordEqual"],[63,56,28,33],[63,58,28,34,"previous"],[63,66,28,42],[63,68,28,44,"routeWithoutState"],[63,85,28,61],[63,86,28,62],[63,88,28,64],[64,8,29,6],[65,8,30,6,"proxy"],[65,13,30,11],[65,16,30,14,"previous"],[65,24,30,22],[66,6,31,4],[66,7,31,5],[66,13,31,11],[67,8,32,6,"proxy"],[67,13,32,11],[67,16,32,14,"routeWithoutState"],[67,33,32,31],[68,6,33,4],[69,6,34,4],[69,10,34,8,"process"],[69,17,34,15],[69,18,34,16,"env"],[69,21,34,19],[69,22,34,20,"NODE_ENV"],[69,30,34,28],[69,35,34,33],[69,47,34,45],[69,49,34,47],[70,8,35,6],[71,8,36,6],[72,8,37,6],[72,13,37,11],[72,19,37,17,"key"],[72,22,37,20],[72,26,37,24,"proxy"],[72,31,37,29],[72,33,37,31],[73,10,38,8],[74,10,39,8],[74,16,39,14,"value"],[74,21,39,19],[74,24,39,22,"proxy"],[74,29,39,27],[74,30,39,28,"key"],[74,33,39,31],[74,34,39,32],[75,10,40,8,"Object"],[75,16,40,14],[75,17,40,15,"defineProperty"],[75,31,40,29],[75,32,40,30,"proxy"],[75,37,40,35],[75,39,40,37,"key"],[75,42,40,40],[75,44,40,42],[76,12,41,10,"enumerable"],[76,22,41,20],[76,24,41,22],[76,28,41,26],[77,12,42,10,"configurable"],[77,24,42,22],[77,26,42,24],[77,30,42,28],[78,12,43,10,"writable"],[78,20,43,18],[78,22,43,20],[78,27,43,25],[79,12,44,10,"value"],[80,10,45,8],[80,11,45,9],[80,12,45,10],[81,8,46,6],[82,6,47,4],[83,6,48,4,"Object"],[83,12,48,10],[83,13,48,11,"defineProperty"],[83,27,48,25],[83,28,48,26,"proxy"],[83,33,48,31],[83,35,48,33,"CHILD_STATE"],[83,46,48,44],[83,48,48,46],[84,8,49,6,"enumerable"],[84,18,49,16],[84,20,49,18],[84,25,49,23],[85,8,50,6,"configurable"],[85,20,50,18],[85,22,50,20],[85,26,50,24],[86,8,51,6,"value"],[86,13,51,11],[86,15,51,13,"state"],[87,6,52,4],[87,7,52,5],[87,8,52,6],[88,6,53,4,"acc"],[88,9,53,7],[88,10,53,8,"set"],[88,13,53,11],[88,14,53,12,"route"],[88,19,53,17],[88,20,53,18,"key"],[88,23,53,21],[88,25,53,23,"proxy"],[88,30,53,28],[88,31,53,29],[89,6,54,4],[89,13,54,11,"acc"],[89,16,54,14],[90,4,55,2],[90,5,55,3],[90,7,55,5],[90,11,55,9,"Map"],[90,14,55,12],[90,15,55,13],[90,16,55,14],[90,17,55,15],[91,4,56,2],[91,11,56,9,"Array"],[91,16,56,14],[91,17,56,15,"from"],[91,21,56,19],[91,22,56,20,"cache"],[91,27,56,25],[91,28,56,26,"current"],[91,35,56,33],[91,36,56,34,"values"],[91,42,56,40],[91,43,56,41],[91,44,56,42],[91,45,56,43],[92,2,57,0],[93,0,57,1],[93,3]],"functionMap":{"names":["<global>","useRouteCache","React.useMemo$argument_0","routes.reduce$argument_0"],"mappings":"AAA;OCe;8BCE;IDE;gCEC;GFkC;CDE"},"hasCjsExports":false},"type":"js/module"}]}