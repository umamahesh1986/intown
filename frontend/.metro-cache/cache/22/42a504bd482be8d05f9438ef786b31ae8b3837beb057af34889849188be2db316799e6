{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"use-latest-callback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":52,"index":99}}],"key":"2ER/r3Agt+5SFwaFR8HXg24Rpu4=","exportNames":["*"],"imports":1}},{"name":"use-sync-external-store/with-selector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":89,"index":189}}],"key":"eWOvQ07XtQMBjXiY0qREKFi+uR8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":190},"end":{"line":6,"column":48,"index":238}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useNavigationState = useNavigationState;\n  exports.NavigationStateListenerProvider = NavigationStateListenerProvider;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _useLatestCallback = require(_dependencyMap[1], \"use-latest-callback\");\n  var useLatestCallback = _interopDefault(_useLatestCallback);\n  var _useSyncExternalStoreWithSelector = require(_dependencyMap[2], \"use-sync-external-store/with-selector\");\n  var _reactJsxRuntime = require(_dependencyMap[3], \"react/jsx-runtime\");\n  /**\n   * Hook to get a value from the current navigation state using a selector.\n   *\n   * @param selector Selector function to get a value from the state.\n   */\n  function useNavigationState(selector) {\n    const stateListener = React.useContext(NavigationStateListenerContext);\n    if (stateListener == null) {\n      throw new Error(\"Couldn't get the navigation state. Is your component inside a navigator?\");\n    }\n    const value = (0, _useSyncExternalStoreWithSelector.useSyncExternalStoreWithSelector)(stateListener.subscribe,\n    // @ts-expect-error: this is unsafe, but needed to make the generic work\n    stateListener.getState, stateListener.getState, selector);\n    return value;\n  }\n  function NavigationStateListenerProvider({\n    state,\n    children\n  }) {\n    const listeners = React.useRef([]);\n    const getState = (0, useLatestCallback.default)(() => state);\n    const subscribe = (0, useLatestCallback.default)(callback => {\n      listeners.current.push(callback);\n      return () => {\n        listeners.current = listeners.current.filter(cb => cb !== callback);\n      };\n    });\n    React.useEffect(() => {\n      listeners.current.forEach(callback => callback());\n    }, [state]);\n    const context = React.useMemo(() => ({\n      getState,\n      subscribe\n    }), [getState, subscribe]);\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(NavigationStateListenerContext.Provider, {\n      value: context,\n      children: children\n    });\n  }\n  const NavigationStateListenerContext = /*#__PURE__*/React.createContext(undefined);\n});","lineCount":75,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,1,13],[22,11,1,13,"_interopDefault"],[22,27,1,13,"e"],[22,28,1,13],[23,4,1,13],[23,11,1,13,"e"],[23,12,1,13],[23,16,1,13,"e"],[23,17,1,13],[23,18,1,13,"__esModule"],[23,28,1,13],[23,31,1,13,"e"],[23,32,1,13],[24,6,1,13,"default"],[24,13,1,13],[24,15,1,13,"e"],[25,4,1,13],[26,2,1,13],[27,2,12,0,"exports"],[27,9,12,0],[27,10,12,0,"useNavigationState"],[27,28,12,0],[27,31,12,0,"useNavigationState"],[27,49,12,0],[28,2,22,0,"exports"],[28,9,22,0],[28,10,22,0,"NavigationStateListenerProvider"],[28,41,22,0],[28,44,22,0,"NavigationStateListenerProvider"],[28,75,22,0],[29,2,3,0],[29,6,3,0,"_react"],[29,12,3,0],[29,15,3,0,"require"],[29,22,3,0],[29,23,3,0,"_dependencyMap"],[29,37,3,0],[30,2,3,0],[30,6,3,0,"React"],[30,11,3,0],[30,14,3,0,"_interopNamespace"],[30,31,3,0],[30,32,3,0,"_react"],[30,38,3,0],[31,2,4,0],[31,6,4,0,"_useLatestCallback"],[31,24,4,0],[31,27,4,0,"require"],[31,34,4,0],[31,35,4,0,"_dependencyMap"],[31,49,4,0],[32,2,4,0],[32,6,4,0,"useLatestCallback"],[32,23,4,0],[32,26,4,0,"_interopDefault"],[32,41,4,0],[32,42,4,0,"_useLatestCallback"],[32,60,4,0],[33,2,5,0],[33,6,5,0,"_useSyncExternalStoreWithSelector"],[33,39,5,0],[33,42,5,0,"require"],[33,49,5,0],[33,50,5,0,"_dependencyMap"],[33,64,5,0],[34,2,6,0],[34,6,6,0,"_reactJsxRuntime"],[34,22,6,0],[34,25,6,0,"require"],[34,32,6,0],[34,33,6,0,"_dependencyMap"],[34,47,6,0],[35,2,7,0],[36,0,8,0],[37,0,9,0],[38,0,10,0],[39,0,11,0],[40,2,12,7],[40,11,12,16,"useNavigationState"],[40,29,12,34,"useNavigationState"],[40,30,12,35,"selector"],[40,38,12,43],[40,40,12,45],[41,4,13,2],[41,10,13,8,"stateListener"],[41,23,13,21],[41,26,13,24,"React"],[41,31,13,29],[41,32,13,30,"useContext"],[41,42,13,40],[41,43,13,41,"NavigationStateListenerContext"],[41,73,13,71],[41,74,13,72],[42,4,14,2],[42,8,14,6,"stateListener"],[42,21,14,19],[42,25,14,23],[42,29,14,27],[42,31,14,29],[43,6,15,4],[43,12,15,10],[43,16,15,14,"Error"],[43,21,15,19],[43,22,15,20],[43,96,15,94],[43,97,15,95],[44,4,16,2],[45,4,17,2],[45,10,17,8,"value"],[45,15,17,13],[45,18,17,16],[45,22,17,16,"useSyncExternalStoreWithSelector"],[45,55,17,48],[45,56,17,48,"useSyncExternalStoreWithSelector"],[45,88,17,48],[45,90,17,49,"stateListener"],[45,103,17,62],[45,104,17,63,"subscribe"],[45,113,17,72],[46,4,18,2],[47,4,19,2,"stateListener"],[47,17,19,15],[47,18,19,16,"getState"],[47,26,19,24],[47,28,19,26,"stateListener"],[47,41,19,39],[47,42,19,40,"getState"],[47,50,19,48],[47,52,19,50,"selector"],[47,60,19,58],[47,61,19,59],[48,4,20,2],[48,11,20,9,"value"],[48,16,20,14],[49,2,21,0],[50,2,22,7],[50,11,22,16,"NavigationStateListenerProvider"],[50,42,22,47,"NavigationStateListenerProvider"],[50,43,22,48],[51,4,23,2,"state"],[51,9,23,7],[52,4,24,2,"children"],[53,2,25,0],[53,3,25,1],[53,5,25,3],[54,4,26,2],[54,10,26,8,"listeners"],[54,19,26,17],[54,22,26,20,"React"],[54,27,26,25],[54,28,26,26,"useRef"],[54,34,26,32],[54,35,26,33],[54,37,26,35],[54,38,26,36],[55,4,27,2],[55,10,27,8,"getState"],[55,18,27,16],[55,21,27,19],[55,25,27,19,"useLatestCallback"],[55,42,27,36],[55,43,27,36,"default"],[55,50,27,36],[55,52,27,37],[55,58,27,43,"state"],[55,63,27,48],[55,64,27,49],[56,4,28,2],[56,10,28,8,"subscribe"],[56,19,28,17],[56,22,28,20],[56,26,28,20,"useLatestCallback"],[56,43,28,37],[56,44,28,37,"default"],[56,51,28,37],[56,53,28,38,"callback"],[56,61,28,46],[56,65,28,50],[57,6,29,4,"listeners"],[57,15,29,13],[57,16,29,14,"current"],[57,23,29,21],[57,24,29,22,"push"],[57,28,29,26],[57,29,29,27,"callback"],[57,37,29,35],[57,38,29,36],[58,6,30,4],[58,13,30,11],[58,19,30,17],[59,8,31,6,"listeners"],[59,17,31,15],[59,18,31,16,"current"],[59,25,31,23],[59,28,31,26,"listeners"],[59,37,31,35],[59,38,31,36,"current"],[59,45,31,43],[59,46,31,44,"filter"],[59,52,31,50],[59,53,31,51,"cb"],[59,55,31,53],[59,59,31,57,"cb"],[59,61,31,59],[59,66,31,64,"callback"],[59,74,31,72],[59,75,31,73],[60,6,32,4],[60,7,32,5],[61,4,33,2],[61,5,33,3],[61,6,33,4],[62,4,34,2,"React"],[62,9,34,7],[62,10,34,8,"useEffect"],[62,19,34,17],[62,20,34,18],[62,26,34,24],[63,6,35,4,"listeners"],[63,15,35,13],[63,16,35,14,"current"],[63,23,35,21],[63,24,35,22,"forEach"],[63,31,35,29],[63,32,35,30,"callback"],[63,40,35,38],[63,44,35,42,"callback"],[63,52,35,50],[63,53,35,51],[63,54,35,52],[63,55,35,53],[64,4,36,2],[64,5,36,3],[64,7,36,5],[64,8,36,6,"state"],[64,13,36,11],[64,14,36,12],[64,15,36,13],[65,4,37,2],[65,10,37,8,"context"],[65,17,37,15],[65,20,37,18,"React"],[65,25,37,23],[65,26,37,24,"useMemo"],[65,33,37,31],[65,34,37,32],[65,41,37,39],[66,6,38,4,"getState"],[66,14,38,12],[67,6,39,4,"subscribe"],[68,4,40,2],[68,5,40,3],[68,6,40,4],[68,8,40,6],[68,9,40,7,"getState"],[68,17,40,15],[68,19,40,17,"subscribe"],[68,28,40,26],[68,29,40,27],[68,30,40,28],[69,4,41,2],[69,11,41,9],[69,24,41,22],[69,28,41,22,"_jsx"],[69,44,41,26],[69,45,41,26,"jsx"],[69,48,41,26],[69,50,41,27,"NavigationStateListenerContext"],[69,80,41,57],[69,81,41,58,"Provider"],[69,89,41,66],[69,91,41,68],[70,6,42,4,"value"],[70,11,42,9],[70,13,42,11,"context"],[70,20,42,18],[71,6,43,4,"children"],[71,14,43,12],[71,16,43,14,"children"],[72,4,44,2],[72,5,44,3],[72,6,44,4],[73,2,45,0],[74,2,46,0],[74,8,46,6,"NavigationStateListenerContext"],[74,38,46,36],[74,41,46,39],[74,54,46,52,"React"],[74,59,46,57],[74,60,46,58,"createContext"],[74,73,46,71],[74,74,46,72,"undefined"],[74,83,46,81],[74,84,46,82],[75,0,46,83],[75,3]],"functionMap":{"names":["<global>","useNavigationState","NavigationStateListenerProvider","useLatestCallback$argument_0","<anonymous>","listeners.current.filter$argument_0","React.useEffect$argument_0","listeners.current.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;OCW;CDS;OEC;qCCK,WD;sCCC;WCE;mDCC,qBD;KDC;GDC;kBIC;8BCC,sBD;GJC;gCMC;ING;CFK"},"hasCjsExports":false},"type":"js/module"}]}