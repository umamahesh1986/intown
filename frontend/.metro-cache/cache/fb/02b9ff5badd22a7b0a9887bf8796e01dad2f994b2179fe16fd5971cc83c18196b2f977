{"dependencies":[{"name":"./CanceledError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":47,"index":62}}],"key":"HXdnwVm8GnT3q7i8irVa9SJIlMY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _CanceledErrorJs = require(_dependencyMap[0], \"./CanceledError.js\");\n  var CanceledError = _interopDefault(_CanceledErrorJs);\n  /**\n   * A `CancelToken` is an object that can be used to request cancellation of an operation.\n   *\n   * @param {Function} executor The executor function.\n   *\n   * @returns {CancelToken}\n   */\n  class CancelToken {\n    constructor(executor) {\n      if (typeof executor !== 'function') {\n        throw new TypeError('executor must be a function.');\n      }\n      let resolvePromise;\n      this.promise = new Promise(function promiseExecutor(resolve) {\n        resolvePromise = resolve;\n      });\n      const token = this;\n\n      // eslint-disable-next-line func-names\n      this.promise.then(cancel => {\n        if (!token._listeners) return;\n        let i = token._listeners.length;\n        while (i-- > 0) {\n          token._listeners[i](cancel);\n        }\n        token._listeners = null;\n      });\n\n      // eslint-disable-next-line func-names\n      this.promise.then = onfulfilled => {\n        let _resolve;\n        // eslint-disable-next-line func-names\n        const promise = new Promise(resolve => {\n          token.subscribe(resolve);\n          _resolve = resolve;\n        }).then(onfulfilled);\n        promise.cancel = function reject() {\n          token.unsubscribe(_resolve);\n        };\n        return promise;\n      };\n      executor(function cancel(message, config, request) {\n        if (token.reason) {\n          // Cancellation has already been requested\n          return;\n        }\n        token.reason = new CanceledError.default(message, config, request);\n        resolvePromise(token.reason);\n      });\n    }\n\n    /**\n     * Throws a `CanceledError` if cancellation has been requested.\n     */\n    throwIfRequested() {\n      if (this.reason) {\n        throw this.reason;\n      }\n    }\n\n    /**\n     * Subscribe to the cancel signal\n     */\n\n    subscribe(listener) {\n      if (this.reason) {\n        listener(this.reason);\n        return;\n      }\n      if (this._listeners) {\n        this._listeners.push(listener);\n      } else {\n        this._listeners = [listener];\n      }\n    }\n\n    /**\n     * Unsubscribe from the cancel signal\n     */\n\n    unsubscribe(listener) {\n      if (!this._listeners) {\n        return;\n      }\n      const index = this._listeners.indexOf(listener);\n      if (index !== -1) {\n        this._listeners.splice(index, 1);\n      }\n    }\n    toAbortSignal() {\n      const controller = new AbortController();\n      const abort = err => {\n        controller.abort(err);\n      };\n      this.subscribe(abort);\n      controller.signal.unsubscribe = () => this.unsubscribe(abort);\n      return controller.signal;\n    }\n\n    /**\n     * Returns an object that contains a new `CancelToken` and a function that, when called,\n     * cancels the `CancelToken`.\n     */\n    static source() {\n      let cancel;\n      const token = new CancelToken(function executor(c) {\n        cancel = c;\n      });\n      return {\n        token,\n        cancel\n      };\n    }\n  }\n  var _default = CancelToken;\n});","lineCount":135,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,135,0,"Object"],[12,8,135,0],[12,9,135,0,"defineProperty"],[12,23,135,0],[12,24,135,0,"exports"],[12,31,135,0],[13,4,135,0,"enumerable"],[13,14,135,0],[14,4,135,0,"get"],[14,7,135,0],[14,18,135,0,"get"],[14,19,135,0],[15,6,135,0],[15,13,135,0,"_default"],[15,21,135,0],[16,4,135,0],[17,2,135,0],[18,2,3,0],[18,6,3,0,"_CanceledErrorJs"],[18,22,3,0],[18,25,3,0,"require"],[18,32,3,0],[18,33,3,0,"_dependencyMap"],[18,47,3,0],[19,2,3,0],[19,6,3,0,"CanceledError"],[19,19,3,0],[19,22,3,0,"_interopDefault"],[19,37,3,0],[19,38,3,0,"_CanceledErrorJs"],[19,54,3,0],[20,2,5,0],[21,0,6,0],[22,0,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,2,12,0],[27,8,12,6,"CancelToken"],[27,19,12,17],[27,20,12,18],[28,4,13,2,"constructor"],[28,15,13,13,"constructor"],[28,16,13,14,"executor"],[28,24,13,22],[28,26,13,24],[29,6,14,4],[29,10,14,8],[29,17,14,15,"executor"],[29,25,14,23],[29,30,14,28],[29,40,14,38],[29,42,14,40],[30,8,15,6],[30,14,15,12],[30,18,15,16,"TypeError"],[30,27,15,25],[30,28,15,26],[30,58,15,56],[30,59,15,57],[31,6,16,4],[32,6,18,4],[32,10,18,8,"resolvePromise"],[32,24,18,22],[33,6,20,4],[33,10,20,8],[33,11,20,9,"promise"],[33,18,20,16],[33,21,20,19],[33,25,20,23,"Promise"],[33,32,20,30],[33,33,20,31],[33,42,20,40,"promiseExecutor"],[33,57,20,55,"promiseExecutor"],[33,58,20,56,"resolve"],[33,65,20,63],[33,67,20,65],[34,8,21,6,"resolvePromise"],[34,22,21,20],[34,25,21,23,"resolve"],[34,32,21,30],[35,6,22,4],[35,7,22,5],[35,8,22,6],[36,6,24,4],[36,12,24,10,"token"],[36,17,24,15],[36,20,24,18],[36,24,24,22],[38,6,26,4],[39,6,27,4],[39,10,27,8],[39,11,27,9,"promise"],[39,18,27,16],[39,19,27,17,"then"],[39,23,27,21],[39,24,27,22,"cancel"],[39,30,27,28],[39,34,27,32],[40,8,28,6],[40,12,28,10],[40,13,28,11,"token"],[40,18,28,16],[40,19,28,17,"_listeners"],[40,29,28,27],[40,31,28,29],[41,8,30,6],[41,12,30,10,"i"],[41,13,30,11],[41,16,30,14,"token"],[41,21,30,19],[41,22,30,20,"_listeners"],[41,32,30,30],[41,33,30,31,"length"],[41,39,30,37],[42,8,32,6],[42,15,32,13,"i"],[42,16,32,14],[42,18,32,16],[42,21,32,19],[42,22,32,20],[42,24,32,22],[43,10,33,8,"token"],[43,15,33,13],[43,16,33,14,"_listeners"],[43,26,33,24],[43,27,33,25,"i"],[43,28,33,26],[43,29,33,27],[43,30,33,28,"cancel"],[43,36,33,34],[43,37,33,35],[44,8,34,6],[45,8,35,6,"token"],[45,13,35,11],[45,14,35,12,"_listeners"],[45,24,35,22],[45,27,35,25],[45,31,35,29],[46,6,36,4],[46,7,36,5],[46,8,36,6],[48,6,38,4],[49,6,39,4],[49,10,39,8],[49,11,39,9,"promise"],[49,18,39,16],[49,19,39,17,"then"],[49,23,39,21],[49,26,39,24,"onfulfilled"],[49,37,39,35],[49,41,39,39],[50,8,40,6],[50,12,40,10,"_resolve"],[50,20,40,18],[51,8,41,6],[52,8,42,6],[52,14,42,12,"promise"],[52,21,42,19],[52,24,42,22],[52,28,42,26,"Promise"],[52,35,42,33],[52,36,42,34,"resolve"],[52,43,42,41],[52,47,42,45],[53,10,43,8,"token"],[53,15,43,13],[53,16,43,14,"subscribe"],[53,25,43,23],[53,26,43,24,"resolve"],[53,33,43,31],[53,34,43,32],[54,10,44,8,"_resolve"],[54,18,44,16],[54,21,44,19,"resolve"],[54,28,44,26],[55,8,45,6],[55,9,45,7],[55,10,45,8],[55,11,45,9,"then"],[55,15,45,13],[55,16,45,14,"onfulfilled"],[55,27,45,25],[55,28,45,26],[56,8,47,6,"promise"],[56,15,47,13],[56,16,47,14,"cancel"],[56,22,47,20],[56,25,47,23],[56,34,47,32,"reject"],[56,40,47,38,"reject"],[56,41,47,38],[56,43,47,41],[57,10,48,8,"token"],[57,15,48,13],[57,16,48,14,"unsubscribe"],[57,27,48,25],[57,28,48,26,"_resolve"],[57,36,48,34],[57,37,48,35],[58,8,49,6],[58,9,49,7],[59,8,51,6],[59,15,51,13,"promise"],[59,22,51,20],[60,6,52,4],[60,7,52,5],[61,6,54,4,"executor"],[61,14,54,12],[61,15,54,13],[61,24,54,22,"cancel"],[61,30,54,28,"cancel"],[61,31,54,29,"message"],[61,38,54,36],[61,40,54,38,"config"],[61,46,54,44],[61,48,54,46,"request"],[61,55,54,53],[61,57,54,55],[62,8,55,6],[62,12,55,10,"token"],[62,17,55,15],[62,18,55,16,"reason"],[62,24,55,22],[62,26,55,24],[63,10,56,8],[64,10,57,8],[65,8,58,6],[66,8,60,6,"token"],[66,13,60,11],[66,14,60,12,"reason"],[66,20,60,18],[66,23,60,21],[66,27,60,25,"CanceledError"],[66,40,60,38],[66,41,60,38,"default"],[66,48,60,38],[66,49,60,39,"message"],[66,56,60,46],[66,58,60,48,"config"],[66,64,60,54],[66,66,60,56,"request"],[66,73,60,63],[66,74,60,64],[67,8,61,6,"resolvePromise"],[67,22,61,20],[67,23,61,21,"token"],[67,28,61,26],[67,29,61,27,"reason"],[67,35,61,33],[67,36,61,34],[68,6,62,4],[68,7,62,5],[68,8,62,6],[69,4,63,2],[71,4,65,2],[72,0,66,0],[73,0,67,0],[74,4,68,2,"throwIfRequested"],[74,20,68,18,"throwIfRequested"],[74,21,68,18],[74,23,68,21],[75,6,69,4],[75,10,69,8],[75,14,69,12],[75,15,69,13,"reason"],[75,21,69,19],[75,23,69,21],[76,8,70,6],[76,14,70,12],[76,18,70,16],[76,19,70,17,"reason"],[76,25,70,23],[77,6,71,4],[78,4,72,2],[80,4,74,2],[81,0,75,0],[82,0,76,0],[84,4,78,2,"subscribe"],[84,13,78,11,"subscribe"],[84,14,78,12,"listener"],[84,22,78,20],[84,24,78,22],[85,6,79,4],[85,10,79,8],[85,14,79,12],[85,15,79,13,"reason"],[85,21,79,19],[85,23,79,21],[86,8,80,6,"listener"],[86,16,80,14],[86,17,80,15],[86,21,80,19],[86,22,80,20,"reason"],[86,28,80,26],[86,29,80,27],[87,8,81,6],[88,6,82,4],[89,6,84,4],[89,10,84,8],[89,14,84,12],[89,15,84,13,"_listeners"],[89,25,84,23],[89,27,84,25],[90,8,85,6],[90,12,85,10],[90,13,85,11,"_listeners"],[90,23,85,21],[90,24,85,22,"push"],[90,28,85,26],[90,29,85,27,"listener"],[90,37,85,35],[90,38,85,36],[91,6,86,4],[91,7,86,5],[91,13,86,11],[92,8,87,6],[92,12,87,10],[92,13,87,11,"_listeners"],[92,23,87,21],[92,26,87,24],[92,27,87,25,"listener"],[92,35,87,33],[92,36,87,34],[93,6,88,4],[94,4,89,2],[96,4,91,2],[97,0,92,0],[98,0,93,0],[100,4,95,2,"unsubscribe"],[100,15,95,13,"unsubscribe"],[100,16,95,14,"listener"],[100,24,95,22],[100,26,95,24],[101,6,96,4],[101,10,96,8],[101,11,96,9],[101,15,96,13],[101,16,96,14,"_listeners"],[101,26,96,24],[101,28,96,26],[102,8,97,6],[103,6,98,4],[104,6,99,4],[104,12,99,10,"index"],[104,17,99,15],[104,20,99,18],[104,24,99,22],[104,25,99,23,"_listeners"],[104,35,99,33],[104,36,99,34,"indexOf"],[104,43,99,41],[104,44,99,42,"listener"],[104,52,99,50],[104,53,99,51],[105,6,100,4],[105,10,100,8,"index"],[105,15,100,13],[105,20,100,18],[105,21,100,19],[105,22,100,20],[105,24,100,22],[106,8,101,6],[106,12,101,10],[106,13,101,11,"_listeners"],[106,23,101,21],[106,24,101,22,"splice"],[106,30,101,28],[106,31,101,29,"index"],[106,36,101,34],[106,38,101,36],[106,39,101,37],[106,40,101,38],[107,6,102,4],[108,4,103,2],[109,4,105,2,"toAbortSignal"],[109,17,105,15,"toAbortSignal"],[109,18,105,15],[109,20,105,18],[110,6,106,4],[110,12,106,10,"controller"],[110,22,106,20],[110,25,106,23],[110,29,106,27,"AbortController"],[110,44,106,42],[110,45,106,43],[110,46,106,44],[111,6,108,4],[111,12,108,10,"abort"],[111,17,108,15],[111,20,108,19,"err"],[111,23,108,22],[111,27,108,27],[112,8,109,6,"controller"],[112,18,109,16],[112,19,109,17,"abort"],[112,24,109,22],[112,25,109,23,"err"],[112,28,109,26],[112,29,109,27],[113,6,110,4],[113,7,110,5],[114,6,112,4],[114,10,112,8],[114,11,112,9,"subscribe"],[114,20,112,18],[114,21,112,19,"abort"],[114,26,112,24],[114,27,112,25],[115,6,114,4,"controller"],[115,16,114,14],[115,17,114,15,"signal"],[115,23,114,21],[115,24,114,22,"unsubscribe"],[115,35,114,33],[115,38,114,36],[115,44,114,42],[115,48,114,46],[115,49,114,47,"unsubscribe"],[115,60,114,58],[115,61,114,59,"abort"],[115,66,114,64],[115,67,114,65],[116,6,116,4],[116,13,116,11,"controller"],[116,23,116,21],[116,24,116,22,"signal"],[116,30,116,28],[117,4,117,2],[119,4,119,2],[120,0,120,0],[121,0,121,0],[122,0,122,0],[123,4,123,2],[123,11,123,9,"source"],[123,17,123,15,"source"],[123,18,123,15],[123,20,123,18],[124,6,124,4],[124,10,124,8,"cancel"],[124,16,124,14],[125,6,125,4],[125,12,125,10,"token"],[125,17,125,15],[125,20,125,18],[125,24,125,22,"CancelToken"],[125,35,125,33],[125,36,125,34],[125,45,125,43,"executor"],[125,53,125,51,"executor"],[125,54,125,52,"c"],[125,55,125,53],[125,57,125,55],[126,8,126,6,"cancel"],[126,14,126,12],[126,17,126,15,"c"],[126,18,126,16],[127,6,127,4],[127,7,127,5],[127,8,127,6],[128,6,128,4],[128,13,128,11],[129,8,129,6,"token"],[129,13,129,11],[130,8,130,6,"cancel"],[131,6,131,4],[131,7,131,5],[132,4,132,2],[133,2,133,0],[134,2,135,0],[134,6,135,0,"_default"],[134,14,135,0],[134,17,135,15,"CancelToken"],[134,28,135,26],[135,0,135,27],[135,3]],"functionMap":{"names":["<global>","CancelToken","constructor","promiseExecutor","promise.then$argument_0","promise.then","Promise$argument_0","reject","cancel","throwIfRequested","subscribe","unsubscribe","toAbortSignal","abort","controller.signal.unsubscribe","source","executor"],"mappings":"AAA;ACW;ECC;+BCO;KDE;sBEK;KFS;wBGG;kCCG;ODG;uBEE;OFE;KHG;aME;KNQ;GDC;EQK;GRI;ESM;GTW;EUM;GVQ;EWE;kBCG;KDE;oCEI,6BF;GXG;EcM;kCCE;KDE;GdK;CDC"},"hasCjsExports":false},"type":"js/module"}]}