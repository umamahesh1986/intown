{"dependencies":[{"name":"./speedometer.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"JWtN7GrWQfwHXgytHZkCYHur2j4=","exportNames":["*"],"imports":1}},{"name":"./throttle.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":37,"index":81}}],"key":"BcsE82O2TtijQ3mU6T8j9Q2jtpw=","exportNames":["*"],"imports":1}},{"name":"../utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":82},"end":{"line":3,"column":32,"index":114}}],"key":"dGswK136diHRCgUa8xpQUn/UMbc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"progressEventReducer\", {\n    enumerable: true,\n    get: function () {\n      return progressEventReducer;\n    }\n  });\n  Object.defineProperty(exports, \"progressEventDecorator\", {\n    enumerable: true,\n    get: function () {\n      return progressEventDecorator;\n    }\n  });\n  Object.defineProperty(exports, \"asyncDecorator\", {\n    enumerable: true,\n    get: function () {\n      return asyncDecorator;\n    }\n  });\n  var _speedometerJs = require(_dependencyMap[0], \"./speedometer.js\");\n  var speedometer = _interopDefault(_speedometerJs);\n  var _throttleJs = require(_dependencyMap[1], \"./throttle.js\");\n  var throttle = _interopDefault(_throttleJs);\n  var _utilsJs = require(_dependencyMap[2], \"../utils.js\");\n  var utils = _interopDefault(_utilsJs);\n  const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n    let bytesNotified = 0;\n    const _speedometer = (0, speedometer.default)(50, 250);\n    return (0, throttle.default)(e => {\n      const loaded = e.loaded;\n      const total = e.lengthComputable ? e.total : undefined;\n      const progressBytes = loaded - bytesNotified;\n      const rate = _speedometer(progressBytes);\n      const inRange = loaded <= total;\n      bytesNotified = loaded;\n      const data = {\n        loaded,\n        total,\n        progress: total ? loaded / total : undefined,\n        bytes: progressBytes,\n        rate: rate ? rate : undefined,\n        estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n        event: e,\n        lengthComputable: total != null,\n        [isDownloadStream ? 'download' : 'upload']: true\n      };\n      listener(data);\n    }, freq);\n  };\n  const progressEventDecorator = (total, throttled) => {\n    const lengthComputable = total != null;\n    return [loaded => throttled[0]({\n      lengthComputable,\n      total,\n      loaded\n    }), throttled[1]];\n  };\n  const asyncDecorator = fn => (...args) => utils.default.asap(() => fn(...args));\n});","lineCount":69,"map":[[12,2,5,0,"Object"],[12,8,5,0],[12,9,5,0,"defineProperty"],[12,23,5,0],[12,24,5,0,"exports"],[12,31,5,0],[13,4,5,0,"enumerable"],[13,14,5,0],[14,4,5,0,"get"],[14,7,5,0],[14,18,5,0,"get"],[14,19,5,0],[15,6,5,0],[15,13,5,0,"progressEventReducer"],[15,33,5,0],[16,4,5,0],[17,2,5,0],[18,2,34,0,"Object"],[18,8,34,0],[18,9,34,0,"defineProperty"],[18,23,34,0],[18,24,34,0,"exports"],[18,31,34,0],[19,4,34,0,"enumerable"],[19,14,34,0],[20,4,34,0,"get"],[20,7,34,0],[20,18,34,0,"get"],[20,19,34,0],[21,6,34,0],[21,13,34,0,"progressEventDecorator"],[21,35,34,0],[22,4,34,0],[23,2,34,0],[24,2,44,0,"Object"],[24,8,44,0],[24,9,44,0,"defineProperty"],[24,23,44,0],[24,24,44,0,"exports"],[24,31,44,0],[25,4,44,0,"enumerable"],[25,14,44,0],[26,4,44,0,"get"],[26,7,44,0],[26,18,44,0,"get"],[26,19,44,0],[27,6,44,0],[27,13,44,0,"asyncDecorator"],[27,27,44,0],[28,4,44,0],[29,2,44,0],[30,2,1,0],[30,6,1,0,"_speedometerJs"],[30,20,1,0],[30,23,1,0,"require"],[30,30,1,0],[30,31,1,0,"_dependencyMap"],[30,45,1,0],[31,2,1,0],[31,6,1,0,"speedometer"],[31,17,1,0],[31,20,1,0,"_interopDefault"],[31,35,1,0],[31,36,1,0,"_speedometerJs"],[31,50,1,0],[32,2,2,0],[32,6,2,0,"_throttleJs"],[32,17,2,0],[32,20,2,0,"require"],[32,27,2,0],[32,28,2,0,"_dependencyMap"],[32,42,2,0],[33,2,2,0],[33,6,2,0,"throttle"],[33,14,2,0],[33,17,2,0,"_interopDefault"],[33,32,2,0],[33,33,2,0,"_throttleJs"],[33,44,2,0],[34,2,3,0],[34,6,3,0,"_utilsJs"],[34,14,3,0],[34,17,3,0,"require"],[34,24,3,0],[34,25,3,0,"_dependencyMap"],[34,39,3,0],[35,2,3,0],[35,6,3,0,"utils"],[35,11,3,0],[35,14,3,0,"_interopDefault"],[35,29,3,0],[35,30,3,0,"_utilsJs"],[35,38,3,0],[36,2,5,7],[36,8,5,13,"progressEventReducer"],[36,28,5,33],[36,31,5,36,"progressEventReducer"],[36,32,5,37,"listener"],[36,40,5,45],[36,42,5,47,"isDownloadStream"],[36,58,5,63],[36,60,5,65,"freq"],[36,64,5,69],[36,67,5,72],[36,68,5,73],[36,73,5,78],[37,4,6,2],[37,8,6,6,"bytesNotified"],[37,21,6,19],[37,24,6,22],[37,25,6,23],[38,4,7,2],[38,10,7,8,"_speedometer"],[38,22,7,20],[38,25,7,23],[38,29,7,23,"speedometer"],[38,40,7,34],[38,41,7,34,"default"],[38,48,7,34],[38,50,7,35],[38,52,7,37],[38,54,7,39],[38,57,7,42],[38,58,7,43],[39,4,9,2],[39,11,9,9],[39,15,9,9,"throttle"],[39,23,9,17],[39,24,9,17,"default"],[39,31,9,17],[39,33,9,18,"e"],[39,34,9,19],[39,38,9,23],[40,6,10,4],[40,12,10,10,"loaded"],[40,18,10,16],[40,21,10,19,"e"],[40,22,10,20],[40,23,10,21,"loaded"],[40,29,10,27],[41,6,11,4],[41,12,11,10,"total"],[41,17,11,15],[41,20,11,18,"e"],[41,21,11,19],[41,22,11,20,"lengthComputable"],[41,38,11,36],[41,41,11,39,"e"],[41,42,11,40],[41,43,11,41,"total"],[41,48,11,46],[41,51,11,49,"undefined"],[41,60,11,58],[42,6,12,4],[42,12,12,10,"progressBytes"],[42,25,12,23],[42,28,12,26,"loaded"],[42,34,12,32],[42,37,12,35,"bytesNotified"],[42,50,12,48],[43,6,13,4],[43,12,13,10,"rate"],[43,16,13,14],[43,19,13,17,"_speedometer"],[43,31,13,29],[43,32,13,30,"progressBytes"],[43,45,13,43],[43,46,13,44],[44,6,14,4],[44,12,14,10,"inRange"],[44,19,14,17],[44,22,14,20,"loaded"],[44,28,14,26],[44,32,14,30,"total"],[44,37,14,35],[45,6,16,4,"bytesNotified"],[45,19,16,17],[45,22,16,20,"loaded"],[45,28,16,26],[46,6,18,4],[46,12,18,10,"data"],[46,16,18,14],[46,19,18,17],[47,8,19,6,"loaded"],[47,14,19,12],[48,8,20,6,"total"],[48,13,20,11],[49,8,21,6,"progress"],[49,16,21,14],[49,18,21,16,"total"],[49,23,21,21],[49,26,21,25,"loaded"],[49,32,21,31],[49,35,21,34,"total"],[49,40,21,39],[49,43,21,43,"undefined"],[49,52,21,52],[50,8,22,6,"bytes"],[50,13,22,11],[50,15,22,13,"progressBytes"],[50,28,22,26],[51,8,23,6,"rate"],[51,12,23,10],[51,14,23,12,"rate"],[51,18,23,16],[51,21,23,19,"rate"],[51,25,23,23],[51,28,23,26,"undefined"],[51,37,23,35],[52,8,24,6,"estimated"],[52,17,24,15],[52,19,24,17,"rate"],[52,23,24,21],[52,27,24,25,"total"],[52,32,24,30],[52,36,24,34,"inRange"],[52,43,24,41],[52,46,24,44],[52,47,24,45,"total"],[52,52,24,50],[52,55,24,53,"loaded"],[52,61,24,59],[52,65,24,63,"rate"],[52,69,24,67],[52,72,24,70,"undefined"],[52,81,24,79],[53,8,25,6,"event"],[53,13,25,11],[53,15,25,13,"e"],[53,16,25,14],[54,8,26,6,"lengthComputable"],[54,24,26,22],[54,26,26,24,"total"],[54,31,26,29],[54,35,26,33],[54,39,26,37],[55,8,27,6],[55,9,27,7,"isDownloadStream"],[55,25,27,23],[55,28,27,26],[55,38,27,36],[55,41,27,39],[55,49,27,47],[55,52,27,50],[56,6,28,4],[56,7,28,5],[57,6,30,4,"listener"],[57,14,30,12],[57,15,30,13,"data"],[57,19,30,17],[57,20,30,18],[58,4,31,2],[58,5,31,3],[58,7,31,5,"freq"],[58,11,31,9],[58,12,31,10],[59,2,32,0],[59,3,32,1],[60,2,34,7],[60,8,34,13,"progressEventDecorator"],[60,30,34,35],[60,33,34,38,"progressEventDecorator"],[60,34,34,39,"total"],[60,39,34,44],[60,41,34,46,"throttled"],[60,50,34,55],[60,55,34,60],[61,4,35,2],[61,10,35,8,"lengthComputable"],[61,26,35,24],[61,29,35,27,"total"],[61,34,35,32],[61,38,35,36],[61,42,35,40],[62,4,37,2],[62,11,37,9],[62,12,37,11,"loaded"],[62,18,37,17],[62,22,37,22,"throttled"],[62,31,37,31],[62,32,37,32],[62,33,37,33],[62,34,37,34],[62,35,37,35],[63,6,38,4,"lengthComputable"],[63,22,38,20],[64,6,39,4,"total"],[64,11,39,9],[65,6,40,4,"loaded"],[66,4,41,2],[66,5,41,3],[66,6,41,4],[66,8,41,6,"throttled"],[66,17,41,15],[66,18,41,16],[66,19,41,17],[66,20,41,18],[66,21,41,19],[67,2,42,0],[67,3,42,1],[68,2,44,7],[68,8,44,13,"asyncDecorator"],[68,22,44,27],[68,25,44,31,"fn"],[68,27,44,33],[68,31,44,38],[68,32,44,39],[68,35,44,42,"args"],[68,39,44,46],[68,44,44,51,"utils"],[68,49,44,56],[68,50,44,56,"default"],[68,57,44,56],[68,58,44,57,"asap"],[68,62,44,61],[68,63,44,62],[68,69,44,68,"fn"],[68,71,44,70],[68,72,44,71],[68,75,44,74,"args"],[68,79,44,78],[68,80,44,79],[68,81,44,80],[69,0,44,81],[69,3]],"functionMap":{"names":["<global>","progressEventReducer","throttle$argument_0","progressEventDecorator","<anonymous>","asyncDecorator","utils.asap$argument_0"],"mappings":"AAA;oCCI;kBCI;GDsB;CDC;sCGE;UCG;IDI;CHC;8BKE,QD,wBE,iBF,CJ"},"hasCjsExports":false},"type":"js/module"}]}